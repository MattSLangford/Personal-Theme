{{ define "main" }}
<div class="quantum-stack">
  {{ if .Site.Params.description }}
  <div class="site-intro">
    <h1 class="intro-title">{{ .Site.Title }}</h1>
    <p class="intro-description">{{ .Site.Params.description }}</p>
  </div>
  {{ end }}

  {{ if .Content }}
  <div class="home-content">
    {{ .Content }}
  </div>
  {{ end }}

  <div class="post-list">
    {{ range first 10 .Site.RegularPages }}
    <article class="post-item">
      <header class="post-header">
        {{ if .Date }}
        <time class="post-date" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
          {{ .Date.Format "Jan 2, 2006" }}
        </time>
        {{ end }}
        
        {{ if .Params.categories }}
        <div class="post-categories">
          {{ range .Params.categories }}
          <a href="/categories/{{ . | urlize }}" class="category-tag">#{{ . }}</a>
          {{ end }}
        </div>
        {{ end }}
      </header>

      {{ if .Title }}
      <h2 class="post-title">
        <a href="{{ .Permalink }}">{{ .Title }}</a>
      </h2>
      {{ end }}

      <div class="post-content">
        {{ if .Params.photos }}
          {{ if eq (len .Params.photos) 1 }}
            <img src="{{ index .Params.photos 0 }}" alt="">
          {{ else }}
            <div class="photos">
              {{ range .Params.photos }}
                <img src="{{ . }}" alt="">
              {{ end }}
            </div>
          {{ end }}
        {{ end }}

        {{ if .Summary }}
          {{ .Summary }}
          {{ if .Truncated }}
            <p><a href="{{ .Permalink }}" class="read-more">Continue reading â†’</a></p>
          {{ end }}
        {{ else }}
          {{ .Content }}
        {{ end }}
      </div>

      {{ if or .Site.Params.include_conversation .Site.Params.show_reply_links }}
      <div class="reply-buttons">
        {{ if .Params.reply_url }}
        <a href="{{ .Params.reply_url }}" class="reply-button">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"/>
          </svg>
          Reply
        </a>
        {{ end }}
        <a href="{{ .Permalink }}" class="reply-button">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.50-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92S19.61 16.08 18 16.08z"/>
          </svg>
          Share
        </a>
      </div>
      {{ end }}
    </article>
    {{ end }}
  </div>

  {{ if gt (len .Site.RegularPages) 10 }}
  <div class="pagination">
    <a href="/posts/" class="page-link">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 5-5v3h6v4h-6v3z"/>
      </svg>
      View All Posts
    </a>
  </div>
  {{ end }}
</div>
{{ end }}